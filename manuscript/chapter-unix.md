# Краткий курс по командам для операционных систем, основанных на UNIX {#chapter-unix}
В зависимости от Вашего опыта работы с компьютерами, Вы возможно сталкивались с системой UNIX или её производными. Этот небольшой курс предназначен для того, чтобы Вы научились работать с *терминалом*, приложением, в котором Вы запускаете команды, выполняемые компьютером. Этим он отличается от графического пользовательского интерфейса (GUI), который намного проще освоить неподготовленному пользователю. Интерфейс на основе терминала может быть более сложным в использовании, но задачи в нём выполняются быстрее и точнее.

I> ### Курс не предназначен для пользователей ОС Windows!
I> Обратите внимание, что мы используем Bash - оболочку для ОС UNIX и её производных, включая дистрибутивы OS X и Linux. Если Вы пользователь ОС Windows, Вы можете использовать [командную строку Windows](http://www.ai.uga.edu/mc/winforunix.html) или [Windows PowerShell](https://msdn.microsoft.com/en-us/powershell/mt173057.aspx). Пользователи Windows 10 с [обновлением 2016 года](https://blogs.windows.com/windowsexperience/2016/08/02/how-to-get-the-windows-10-anniversary-update/) также [смогут выполнять команды Bash непосредственно из командной строки](http://www.pcworld.com/article/3050473/windows/heres-how-windows-10s-ubuntu-based-bash-shell-will-actually-work.html). Вы также можете поэкспериментировать с командами Bash, [установив Cygwin](https://www.cygwin.com/), в Windows.

## Использование терминала
ОС UNIX и её производные - такие как дистибутивы OS X и Linux - используют приблизительно одинаковый терминал на основе [оболочки Bash](https://en.wikipedia.org/wiki/Bash_(Unix_shell)). Все они обладают базовым набором команд, которые позволяют вам перемещаться по файловой системе Вашего компьютера и запускать программы без использования графического интерфейса.

После запуска нового окна терминала, Вам, как правило, будет показано что-то подобное:

{lang="text",linenos=off}
    sibu:~ david$

Это называется *приглашением командной строки*, и обозначает, что система ждет и готова к выполнению любой Вашей команды. Приглашение командной строки, которое Вы видите, может меняться в зависимости от используемой операционной системы, но все они похожи друг на друга. В вышеприведенном примере, обратите внимание на следующие три основных элемента:

* Ваше имя пользователя и имя компьютера (имя пользователя `david` и имя компьютера `sibu`);
* Ваш *текущая рабочая директория* (тильда или `~`); и
* привилегия Вашей учетной записи пользователя (знак доллара или `$`).

D> ### Что такое директория?
D> В вышепрвиеденном тексте, мы используем такое понятие как *Ваша текущая рабочая директория*. Но чем же является *директория*? Если Вы до сих пор использовали компьютер под управлением ОС Windows, то в ней директирии называются *папками*. Термин "папка" аналогичен термину директория - каталогизированная структура, содержащая ссылки на другие файлы и директории.

Знак доллара (`$`) обычно обозначает, что пользователь использует стандартную пользовательскую учетную запись. Напротив, символ решетки (`#`) используется для обозначения того, что пользователь, вошедший в систему, имеет [привилегии типа root или суперпользователя](http://en.wikipedia.org/wiki/Superuser). Не зависимо от того такой символ изображен, он используется, чтобы показать, что компьютер ожидает Вашего ввода.

I> ### Приглашения командной строки могут отличаться
I> Информация, предоставляемая в приглашении командной строки на Вашем компьютере может отличаться от приведенного выше примера. Например, некоторые приглашения могут отображать текущую дату и время или любую другую информацию. Все зависит от того, как настроен ваш компьютер.

Когда Вы используете терминал, важно знать в какой директории файловой системы Вы находитесь. Чтобы это узнать, Вы можете выполнить команду `pwd`. Она отобразит Вашу *Текущую Рабочую Директорию* (Present Working Directory или сокращенно PWD - отсюда название `pwd`). В качестве примера рассмотрим работу с терминалом, показанную ниже.

{lang="text",linenos=off}
    Last login: Wed Mar 23 15:01:39 2016
    sibu:~ david$ pwd
    /users/grad/david
    sibu:~ david$

В этом примере текущая рабочая директория - это: `/users/grad/david`.

Вы должны были также заметить, что приглашение указывает, что моя текущая рабочая директория - это тильда `~`. Тильда - это специальный символ, который используется для обозначения Вашей *домашней директории*. Базовым каталогом в любой файловой системе на основе UNIX является *корневая директория*. Путь к корневой директории обозначается одиночной косой чертой (`/`). Поскольку папки (или директории) разделены в UNIX путях с помощью `/`, просто `/` обозначает корневую директорию!

Если вы находитесь не в своей домашней директории, Вы можеет *Изменить Директорию* (Change Directory - `cd`), выполнив следующую команду.

{lang="text",linenos=off}
    sibu:/ david$ cd ~
    sibu:~ david$

Обратите внимание, как текущая рабочая директория изменилась с `/` на `~` после выполнения команды `cd ~`.

I> ### Сокращенные названия для путей
I> В оболочках UNIX существует несколько сокращений для перемещения по файловой системе Вашего компьютера. Вы уже знаете, что косая черта (`/`) обозначает [корневую директорию](https://en.wikipedia.org/wiki/Root_directory), а тильда (`~`) - домашнюю директорию, в которой Вы храните все свои личные файлы. Однако существует еще несколько специальных символов, которые Вы можете использовать для перемещения по Вашей файловой системе в сочетании с командой `cd`.
I>
I> * Выполнение `cd ~` всегда возвращает Вас в Вашу домашнюю директорию. В некоторых ОС UNIX или производных UNIX, простой ввод `cd` тоже вернет Вас в Вашу домашнюю директорию.
I> * Выполнение `cd ..` переместит Вас относительно Вашей текущей рабочей директории **на один уровень вверх** в иерархии файловой системы. Например, если вы в настоящее время находитесь в `/users/grad/david/code/`, то при вводе `cd ..` перейдёте в `/users/grad/david/`.
I> * Выполнение `cd -` переместит вас в **предыдущий каталог, в котором вы работали**. Ваша оболочка запоминает, где Вы были, поэтому, если Вы находились в `/var/tmp/` и перешли в `/users/grad/david/`, то при вводе `cd -` Вы сразу вернетесь в `/var/tmp/`. Очевидно, что эта команда сработает, если Вы хотя бы раз перемещались по файловой системе в течении данного сеанса работы с терминалом.

Теперь давайте создадим каталог внутри домашней директории под названием `code`. Для этого Вы можете использовать команду *Создать директорию* (*Make Directory*) - `mkdir`.

{lang="text",linenos=off}
    sibu:~ david$ mkdir code
    sibu:~ david$

Система никак не подтверждает успешное выполнение команды.  Мы можем изменить текущую рабочую директорию с помощью команды `cd` на `code`. Если нам это удастся, то очевидно, что директория была успешно создана.

{lang="text",linenos=off}
    sibu:~ david$ cd code
    sibu:code david$

Выполните затем команду `pwd`, чтобы убедиться, что в данный момент нашей текущей рабочей директорией является `/users/grad/david/code` - наша домашняя директория с `code` в конце. Также в вышеприведенном примере изменилось приглашение командной строки с `~` на `code`.

X> ### Возвращаемся обратно
X> Теперь введите команду для возвращения в Вашу домашнюю директорию. Какую команду нужно ввести?

Из Вышей домашней директории давайте теперь попробуем выполнить другую команду, чтобы просмотреть существующие файлы и директории. Эта новая команда называется `ls`, сокращение от *список* (*list*). Выполнив `ls` в Вашем домашнем каталоге мы получим результат подобный приведенному ниже.

{lang="text",linenos=off}
    sibu:~ david$ ls
    code

Таким образом, в нашей домашней директории существует что-то с названием `code`, как и следовало ожидать. Мы можем получить более подробную информацию, добавив ключ `l` в конце команды `ls` - где `l` означает *список* (*list*).

{lang="text",linenos=off}
    sibu:~ david$ ls -l
    drwxr-xr-x  2 david  grad  68  2 Apr 11:07 code

При этом мы получаем дополнительную информацию, такую как дата модификации (`2 Apr 11:07`), кому принадлежит файл (пользователь `david` группы `grad`), размер сущности (`68` байтов) и права доступа к файлу/директории (`drwxr-xr-x`). Хотя здесь мы не рассматриваем права доступа к файлам/директориям, ключевой момент, на который следует обратить внимание - это `d` в начале строки, обозначающая, что сущность является директорией. Если мы добавим файлы в нашу домашную директорию и снова введём команду `ls -l`, то увидим различия в способе отображения файлов и директорий.

{lang="text",linenos=off}
    sibu:~ david$ ls -l
    drwxr-xr-x  2 david  grad      68  2 Apr 11:07 code
    -rw-r--r--@ 1 david  grad  303844  1 Apr 16:16 document.pdf
    -rw-r--r--  1 david  grad      14  2 Apr 11:14 readme.md

Последний полезный ключ для команды `ls`, который мы рассмотрим - это ключ `a`, который отображает *все* файлы и директории. Его стоит использовать, если нужно просмотреть полное содержимое директории, поскольку некоторые директории и файлы могут быть *скрыты* операционной системой для улучшения внешнего вида. После выполнения этой команды, мы увидим больше файлов и директорий!

{lang="text",linenos=off}
    sibu:~ david$ ls -la
    -rw-r--r--   1  david  grad     463 20 Feb 19:58 .profile
    drwxr-xr-x   16 david  grad     544 25 Mar 11:39 .virtualenvs
    drwxr-xr-x   2  david  grad      68  2 Apr 11:07 code
    -rw-r--r--@  1  david  grad  303844  1 Apr 16:16 document.pdf
    -rw-r--r--   1  david  grad      14  2 Apr 11:14 readme.md

Эта команда показывает, что существуют скрытая директория `.virtualenvs` и скрытый файл `.profile`. Обратите внимание, что скрытые файлы на компьютере под управлением UNIX (или её производной) начинаются с точки (`.`). В отличие от компьютеров под управлением Windows, нет специального атрибута «скрытого» файла, который Вы можете использовать.

D> ### Использование нескольких ключей одновременно с командой `ls`
D> Возможно, вы заметили, что мы объединили ключи `l` и `a` в вышеприведенном примере команды `ls`, чтобы она вывела список, отображающий все скрытые файлы. Это правильная команда с точки зрения синтаксиса и существует [гораздо больше ключей, которые Вы можете использовать](http://man7.org/linux/man-pages/man1/ls.1.html) для изменения списка, выводимого командой `ls`.

Создавать файлы тоже легко с помощью терминала. Команда `touch` создаёт новый пустой файл. Если мы хотим создать файл с названием `new.txt`, введите `touch new.txt`. Если мы хатем выведем содержимое нашей директории, то увидим добавленный файл.

{lang="text",linenos=off}
    sibu:~ david$ ls -l
    drwxr-xr-x  2 david  grad      68  2 Apr 11:07 code
    -rw-r--r--@ 1 david  grad  303844  1 Apr 16:16 document.pdf
    -rw-r--r--  1 david  grad       0  2 Apr 11:35 new.txt
    -rw-r--r--  1 david  grad      14  2 Apr 11:14 readme.md

Обратите внимание на размер файла `new.txt` - 0 байт, указывающий на то, что файл пустой. Мы можем начать редактировать файл, используя один из многих текстовых редакторов, доступных непосредственно из терминала, таких как [`nano`](http://www.nano-editor.org/) или [`vi`](http://en.wikipedia.org/wiki/Vi). Хотя здесь мы не раскажем как пользоватться этими редакторами, Вы можете [найти в Интернете руководства по их использованию](http://www.howtogeek.com/howto/42980/the-beginners-guide-to-nano-the-linux-command-line-text-editor/). Мы рекомендуем начать с `nano` - хотя у него не так много возможностей по сравнению с другими редакторами, использовать `nano` намного проще.

## Основные команды {#section-unix-commands}
Выше мы рассмотрели несколько основных команд, таких как `pwd`, `ls` и `cd`. Однако есть еще несколько стандартных команд UNIX, с которыми Вы должны ознакомиться, прежде чем начать работать по-настоящему. Они перечислены ниже для справки и большинство из них используется для управления файлами. В списке также приводится пояснение к каждой команде и пример как их использовать.

* `pwd`: Как говорилось ранее, эта команда отображает Вашу *текущую рабочую директорию* в терминале. Отображается полный путь, где Вы находитесь в настоящее время.
* `ls`:Выводит список файлов в текущей рабочей директории на экран терминала. 
* `cd`: Позволяет Вам изменить Вашу текущую рабочую директорию с учетом пути. Например, команда `cd /users/grad/david/` изменяет текущий рабочий каталог на `/users/grad/david/`. Вы также можете перемещаться на один уровень каталогов без указания [полного пути](http://www.coffeecup.com/help/articles/absolute-vs-relative-pathslinks/), используя две точки, т. е. `cd ..`.
* `cp`: Копирует файлы и/или директории. Вы должны указать *источник* (откуда копировать) и *назначение* (куда копировать). Например, чтобы скопировать файл `input.py` в ту же директорию, Вы можете ввести команду `cp input.py input_backup.py`.
* `mv`: Перемещает файлы/директории. Как и для команды `cp`, Вы должны указать *источник* и *назначение*. Эта команда также используется для переименовывания файлов. Например, чтобы переименовать `numbers.txt` в `letters.txt`, выполните команду `mv numbers.txt letters.txt`. Чтобы переместить файл в другой каталог, необходимо указать абсолютный или относительный путь как часть назначения - например, `mv numbers.txt /home/david/numbers.txt`.
* `mkdir`: Создаёт директорию в текущей рабочей директории. Вы должны указать название для новой директории после команды `mkdir`. Например, если Вы находитесь в директории `/home/david/` и запускаете команду `mkdir music`, то будет создана директория `/home/david/music/`. Выполните команду `cd имя директории`, чтобы перейти в только что созданную директорию.
* `rm`: сокращение от *remove* (*удалить*), эта команда удаляет файлы из Вашей файловой системы. Вы должны указать имя  файла(ов), которые хотите удалить. При выполнении команды `rm`, появляется предупреждающее сообщение, спрашивающее действительно ли Вы хотите удалить выбранный файл(ы). Вы также можете удалять директории [используя рекурсивный ключ](http://www.computerhope.com/issues/ch000798.htm). Будьте осторожны при использовании этой команды - восстановить удаленные файлы очень сложно, если вообще возможно!
* `rmdir`: Альтернативная команда для удаления каталогов из Вашей файловой системы. Нужно указать каталог, который Вы хотите удалить. Опять, будьте осторожны: система не предложит подтвердить свои намерения.
* `sudo`: Программа, которая позволяет Вам запускать команды с привилегиями безопасности другого пользователя. Обычно она используется для запуска других программ от имени `root` - [суперпользователя](http://en.wikipedia.org/wiki/Superuser) любой операционной системы, основанной на UNIX или UNIX-подобной.

I> ### Это не все команды!
I> Это только краткий список команд. Просмотрите документацию Ubuntu [Использование терминала](https://help.ubuntu.com/community/UsingTheTerminal) для более подробного обзора или используйте [Шпаргалку](http://fosswire.com/post/2007/08/unixlinux-command-cheat-sheet/) от FOSSwire в качестве краткого справочного руководства. Как и в любом другом деле, чем больше Вы практикуетесь, тем комфортнее Вам будет работать с терминалом.