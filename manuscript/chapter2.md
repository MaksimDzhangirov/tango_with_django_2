# Подготовка к Танго
Прежде чем мы перейдем непосредственно к написанию кода, очень важно правильно настроить Вашу среду для разработки, чтобы Вы могли легко *Станцевать танго с Django!* Вам необходимо убедиться, что Вы установили все необходимые компоненты на Ваш компьютер и что они правильно настроены. В этой главе пошагово рассматриваются шесть основных компонентов, о которых нужно знать, уметь настраивать и использовать. Они перечислены ниже.

* Работа с [терминалом](https://en.wikipedia.org/wiki/Terminal_emulator) (в ОС macOS или UNIX/Linux) или [командной строкой](https://en.wikipedia.org/wiki/Cmd.exe) (в ОС Windows);
* *Python 3*, в том числе умение программировать и запускать скрипты на языке Python.
* Менеджер пакетов Python *pip*;
* *Виртуальные окружения*;
* Ваша *интегрированная среда разработки (IDE)*, если Вы решите её использовать;
* *Система контроля версий (VCS)* - *Git*.

Если Вы уже установили Python 3 и Django 2 на Ваш компьютер и знакомы с упомянутыми технологиями, Вы можете перейти непосредственно к [главе Основы Django](#chapter-django-basics). В противном случае, если Вы не знакомы с какой-то или со всеми перечисленными технологиями, ниже мы кратко рассмотрим каждую из них. Эту главу следует читать вместе с [вспомогательной главой](#chapter-system-setup), в которой даётся ряд ссылок на то как настраивать различные компоненты, если Вы не смогли сделать это самостоятельно.

I> ### Важно правильно настроить вашу среду для разработки!
I> Настройка среды для разработки достаточно утомительная задача и не редко может заводить в тупик. Это не то, чем Вы занимаетесь ежедневно. Ссылки, которые мы приводим в этой главе (а также в [дополнительной вспомогательной главе](#chapter-system-setup)) должны помочь вам привести всё в рабочее состояние. Усилия, которые Вы сейчас потратите на то, чтобы убедиться, что все работает, намного облегчат дальнейший процесс разработки.
I>
I> Исходя из нашего опыта мы также можем с уверенностью сказать, что при настройке среды разработки было бы не плохо делать заметки о тех шагах, которые Вы предприняли. Вам они могут понадобиться когда-то - например, если Вы купите новый компьютер или друг попросит Вас помочь настроить свой компьютер! Записывая всё что Вы делаете, позволит Вам сэкономить Ваше время и силы в будущем. Думайте об этом в долгосрочной перспективе!

## Python 3 {#chapter-getting-ready-python3}
Чтобы работать с Tango with Django, нам нужно, чтобы Вы установили на Ваш компьютер копию языка программирования Python. Версия Python `3.4+` будет работать нормально с Django 2.1 -- хотя официальный сайт Django рекомендует установить самую последнюю версию Python. Поэтому мы рекомендуем Вам установить *Python 3.7*. На момент написания этой главы самой последней версией была *Python 3.7.2.* Если Вы не знаете как установить Python и Вам требуется помощь, просмотрите [наше краткое руководство по установке Python](#section-system-setup-python).

W> ### Работаете в macOS, Linux или UNIX?
W>
W> При установке Python на macOS, Linux or UNIX, Вы обнаружите, что Python уже установлен на вашем компьютере -- хотя и гораздо более старой версии, обычно 2.x. Эта версия необходима вашей операционной системе для выполнения таких важных задач, как загрузка и установка обновлений. Хотя вы можете использовать эту версию, она, скорее всего, не будет совместима с Django 2, и вам нужно будет установить более новую версию Python, которая будет работать *независимо* от более старой установленной версии. *Не удаляйте Python 2.x*, если он уже установлен в Вашей системе; это может привести к тому, что Ваша система перестанет нормально работать!

I> ### Не знакомы с Python или хотите освежить свои знания?
I> Если вы раньше не использовали Python - или просто хотите освежить свои знания - то мы настоятельно рекомендуем Вам ознакомиться с одним или несколькими из следующих руководств:
I>
I> * [**Официальное руководство по Python**](http://docs.python.org/3/tutorial/);
I> * [**Думаем как питонист: Как начать думать как специалист по компьютерным наукам**](http://www.greenteapress.com/thinkpython/) от Аллена Б. Дауни (Allen B. Downey); или
I> * [**Изучаем Python за 10 минут**](http://www.korokithakis.net/tutorials/python/) от Stavros;
I> * [**Учимся программировать**](https://www.coursera.org/course/programming1), авторы Дженнифер Кэмбел (Jennifer Campbell) и Пол Гриез (Paul Gries).
I>
I> Они познакомят вас с основами Python, чтобы Вы могли начать разработку с использованием Django. Учтите, что Вам не нужно быть экспертом в Python, чтобы работать с Django. Python - это замечательный язык и Вы можете изучать его по ходу чтения книги, особенно если Вы уже знаете другой язык программирования.

## Виртуальные окружения {#chapter-getting-ready-venv}
После того как Вы установили рабочую версию Python 3 (и имеете базовые навыки программирования на нем), мы можем настроить наше среду для проекта Django (под названием Rango), который мы будем создавать в этом учебном пособии. Один очень полезный инструмент, который мы *настоятельно* рекомендуем вам использовать, - это виртуальное окружение. Хотя это не обязательное требование, это позволяет удобно разделить установленную на Вашем компьютере версию Python и версию Python для среды, в которой Вы будете разрабатывать Rango.

Виртуальное окружение позволяет мирно сосуществовать множеству установок Python и связанных с ними пакетов внутри уникальных *Python окружений*. Для чего это нужно? Скажем, у вас есть проект `projectA`, который Вы хотите запустить в Django 1.11, и еще один проект `projectB`, написанный для Django 2.1. Это создает проблему, поскольку обычно Вы можете установить только одну версию необходимого программного обеспечения за раз. Создавая виртуальные окружения для каждого проекта, Вы можете установить соответствующие версии Django (и любое другое необходимое программное обеспечение Python) для каждого уникального окружения. Это гарантирует, что программное обеспечение, установленное в одном окружении, не конфликтует с программным обеспечением, установленным в другом.

Вы захотите создать виртуальное окружение, используя Python 3, для Вашей среды разработки Rango. Назовите среду `rangoenv`. Если Вы не знаете, как это сделать, перейдите к вспомогательной главе, подробно описывающей [как настроить виртуальные среды прежде чем продолжить.](#section-system-setup-virtualenv). Если Вы решите использовать виртуальную среду, не забудьте активировать виртуальную среду, введя следующую команду.

{lang="bash",linenos=off}
	$ workon rangoenv

С этого момента все приглашения в терминале или командной строке будут начинаться с названия Вашего виртуального окружения, чтобы напомнить Вам, что оно включено. Посмотрите на следующий пример, чтобы понять, что мы имеем ввиду.

{lang="bash",linenos=off}
	$ workon rangoenv
	(rangoenv) $ pip install django==2.1.5
	...
	(rangoenv) $ deactivate
	$ 

Предпоследняя строка примера выше демонстрирует, как отключить Вашу виртуальную среду после того, как Вы закончили с работать с ней -- обратите внимание на отсутствие `(rangoenv)` перед приглашением. Опять же, [обратитесь к вспомогательной главе этого учебного пособия](#section-system-setup-virtualenv) для получения дополнительной информации о том, как настроить и использовать виртуальные окружения.

## Менеджер пакетов Python
Наряду с виртуальными окружениями мы также будем использовать менеджер пакетов Python *pip* для установки ряда различных пакетов программного обеспечения Python, включая Django, в нашу среду разработки. В частности, нам нужно установить два пакета: Django 2.1.5 и *Pillow*. Pillow - это пакет Python для работы с файлами изображений (например, `.jpg` и `.png` файлами), о чем мы поговорим позднее в этом учебном пособии.

Менеджер пакетов, в не зависимости для чего он предназначен - языка Python, Вашей [операционной системы](https://en.wikipedia.org/wiki/Advanced_Packaging_Tool) или [какой-либо среды](https://docs.npmjs.com/cli/install), - это программный инструмент, который автоматизирует процесс установки, обновления, настройки и удаления *пакетов* - то есть пакета программного обеспечения, который Вы можете использовать на Вашем компьютере. Этим он отличается от загрузки, установки и поддержки программного обеспечения вручную. Поддержка Python пакетов довольно сложный процесс. У большинства пакетов часто есть *зависимости* -- т. е. другие пакеты, которые тоже нужно установить, для нормальной работы необходимого Вам пакета. Отслеживать всё это вручную становится очень сложно. Менеджер пакетов решает все проблемы за Вас, наряду с такими проблемами, как конфликты, связанные с различными версиями пакета. К счастью, *pip* делает всё это за Вас - поэтому Вы можете откинуться на спунку кресла и расслабиться.

Попробуйте запустить команду `$ pip3` менеджера пакетов для версии Python 3. Если выполнение команды завершилось ошибкой, то у Вас возникла проблема с настройкой - обратитесь к нашему [руководству по настройке pip](#section-system-setup-pip) за помощью.

Включив виртуальное окружение, запустите следующие две команды для установки Django и Pillow.

{lang="bash",linenos=off}
	$ pip install django==2.1.5
	$ pip install pillow==5.0.0

Этого будет достаточно для начала. По мере того, как Вы будете работать с учебным пособием, нам понадобится ещё несколько пакетов. Они будут установлены по мере необходимости. Пока что достаточно установиленных пакетов.

I> ### Не получается установить `pillow`?
I> При установке Pillow, Вы можете получить ошибку, связанную с отсутствием поддержки JPEG.
I> Эта ошибка отображается следующим образом:
I> 
I> {lang="text",linenos=off}
I> 	ValueError: jpeg is required unless explicitly disabled using
I> 	            --disable-jpeg, aborting
I>
I> Если Вы получили эту ошибку, попробуйте установить Pillow *без* поддержки JPEG, с помощью следующей команды.
I>
I> {lang="text",linenos=off}
I> 	pip install pillow --global-option="build_ext"
I> 	                   --global-option="--disable-jpeg"
I>
I> Хотя очевидно, что у Вас не будут поддерживаться JPEG изображения, Pillow должен установиться без проблем. Установки Pillow достаточно для начала работы с этой книгой. Для получения дополнительной информации ознакомьтесь с [документацией Pillow](http://pillow.readthedocs.io/en/3.2.x/installation.html).

T> ### Работа в виртуальном окружении
T>
T> Замените `pip3` на `pip` при работе в вашем виртуальном окружении. Команда `pip` для вашего виртуального окружения привязана к правильной версии менеджера пакетов.

## Интегрированная среда разработки (ИСР)
Несмотря на то, что использовать её необязательно, хорошая интегрированная среда разработки для языка Python может помочь Вам в процессе разработки. Их существует несколько, но [*PyCharm*](http://www.jetbrains.com/pycharm/) от JetBrains и *PyDev* (плагин для [Eclipse IDE](http://www.eclipse.org/downloads/)) являются самыми популярными. В [Python Wiki](http://wiki.python.org/moin/IntegratedDevelopmentEnvironments) можно найти наиболее актуальный список ИСР для Python.

Выберите из них ту, который подходит Вам, но имейте ввиду, что для использования некоторых Вам потребуется приобрести лицензию. В идеале Вам нужно выбрать такую ИСР, которая поддерживает интеграцию с Django. Конечно, если Вы не захотите использовать ИСР, подойдет простой текстовый редактор, такой как Sublime Text, TextMate или Atom. Многие современные текстовые редакторы на самом деле поддерживают подсветку синтаксиса Python, что намного упрощает разработку!

Мы используем PyCharm, поскольку она поддерживает виртуальные окружения и интеграцию с Django - но для этого Вам придется настроить ИСР соответствующим образом. Мы не рассматриваем этот вопрос здесь - вы можете найти [руководство по настройке PyCharm](https://www.jetbrains.com/help/pycharm/2016.1/creating-and-running-your-first-django-project.html) на сайте JetBrains.

## Система контроля версий
Следует также отметить, что при разработке кода, Вы всегда должны размещать свой код в репозитории системы контроля версий, например, [SVN](http://subversion.tigris.org/) или [Git](http://git-scm.com/). Мы не будем пояснять как работать с ней прямо сейчас, чтобы мы могли приступить к разработке приложения в Django. Тем не менее мы написали [главу, посвященную краткому курсу по Git](#chapter-git), которую вы можете изучить позднее. **Мы настоятельно рекомендуем Вам создать Git репозиторий для ваших собственных проектов.**

X> ### Упражнения
X> 
X> Для вашего дальнейшего удобства настройте среду разработки, выполнив следующие упражнения.
X> 
X>  - Если Вы не знакомы с Python - изучите его основы. Воспользуйтесь одним или несколькими учебными пособиями, которые мы перечислили выше.
X>  - Установите Python 3.7. Убедитесь, что pip3 (или pip для Вашого виртуального окружения) также установлен и работает на Вашем компьютере.
X>  - Поэкспериментируйте с Вашим *интерфейсом командной строки (CLI)*, независимо от того используете Вы командную строку (Windows) или терминал (macOS, Linux, UNIX и т. д.), создайте директорию под названием `code`, в которой мы будем размещать наши проекты.
X>  - Создайте новое виртуальное окружение, используя Python 3.7. Это необязательно; но мы настоятельно рекомендуем вам использовать виртуальные окружения.
X>  - В Вашем вирутальном окружении установите Django 2.1.5 и Pillow 5.0.0.
X>  - Создайте учетную запись на сайте с Git репозиториями, например: GitHub, BitBucket и т.д., если у Вас её ещё нет.
X>  - Загрузите и настройте ИСР, например, [PyCharm](https://www.jetbrains.com/pycharm/) или настройте свой любимый текстовый редактор для работы с файлами Python.
X> 
X>  Как было сказано ранее, текст книги и код приложения доступы в нашем [GitHub репозитории](https://github.com/leifos/tango_with_django_2/).
X> 
X>  - Если Вы обнаружили какие-либо ошибки или замечания, сообщите нам, сделав запрос на изменение в GitHub.
X>  - Если у Вас возникли проблемы при выполнении упражнений, воспользуйтесь репозиторием, чтобы узнать как мы решили их.

D> ### Что такое директория?
D>
D> В вышепрвиеденном тексте, мы используем такое понятие как *директория*, а именно создаём её. Но чем же является *директория*? Если Вы до сих пор использовали компьютер под управлением ОС Windows, то в ней директирии называются *папками*. Термин "папка" аналогичен термину директория - каталогизированная структура, содержащая ссылки на другие файлы и директории.

Выполнив все эти упражнения, Вы станете компетентным Python программистом - и у Вас будет компьютер, настроенный и готовый к *Танго с Django!*